<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NeySlots üé∞</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: linear-gradient(135deg, #0a1f1a 0%, #071a12 50%, #0d2419 100%);
  min-height: 100vh;
  color: #eafff4;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px;
  position: relative;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background: 
    radial-gradient(circle at 20% 80%, rgba(0, 255, 156, 0.03) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(124, 255, 203, 0.03) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

#app {
  width: 100%;
  max-width: 420px;
  position: relative;
  z-index: 1;
}

/* Header com stats */
.header {
  background: linear-gradient(135deg, rgba(0, 255, 156, 0.1) 0%, rgba(0, 255, 156, 0.05) 100%);
  border: 1px solid rgba(0, 255, 156, 0.2);
  border-radius: 20px;
  padding: 20px;
  margin-bottom: 20px;
  backdrop-filter: blur(10px);
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 12px;
}

.stat-box {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 12px;
  padding: 12px;
  border: 1px solid rgba(0, 255, 156, 0.15);
}

.stat-label {
  font-size: 11px;
  opacity: 0.7;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
  color: #7cffcb;
}

.stat-value {
  font-size: 20px;
  font-weight: 700;
  color: #00ff9c;
  text-shadow: 0 0 10px rgba(0, 255, 156, 0.3);
}

.bet-box {
  grid-column: 1 / -1;
}

/* Grid de slots */
#grid {
  margin: 0 auto 20px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  padding: 20px;
  background: linear-gradient(135deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.2) 100%);
  border-radius: 24px;
  border: 2px solid rgba(0, 255, 156, 0.2);
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 2px 8px rgba(0, 255, 156, 0.1);
}

.slot {
  background: linear-gradient(135deg, #000000 0%, #0a0a0a 100%);
  border-radius: 16px;
  aspect-ratio: 1/1;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  border: 2px solid rgba(0, 255, 156, 0.15);
  box-shadow: 
    0 4px 16px rgba(0, 0, 0, 0.5),
    inset 0 2px 4px rgba(255, 255, 255, 0.05);
  transition: transform 0.2s, box-shadow 0.2s;
  position: relative;
}

.slot::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(0, 255, 156, 0.1) 0%, transparent 100%);
  opacity: 0;
  transition: opacity 0.3s;
}

.slot:active {
  transform: scale(0.95);
}

.slot img {
  width: 75%;
  height: 75%;
  object-fit: contain;
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3));
  transition: transform 0.3s;
}

.slot:hover img {
  transform: scale(1.05);
}

/* Controles */
.controls {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 12px;
}

.btn-spin {
  grid-column: 1 / -1;
}

button {
  padding: 16px;
  font-size: 15px;
  font-weight: 700;
  border: none;
  border-radius: 16px;
  background: linear-gradient(135deg, #00ff9c 0%, #00d47e 100%);
  color: #000;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 
    0 4px 16px rgba(0, 255, 156, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
  position: relative;
  overflow: hidden;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

button::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
  opacity: 0;
  transition: opacity 0.3s;
}

button:hover::before {
  opacity: 1;
}

button:active {
  transform: scale(0.96);
  box-shadow: 
    0 2px 8px rgba(0, 255, 156, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-secondary {
  background: linear-gradient(135deg, rgba(0, 255, 156, 0.2) 0%, rgba(0, 255, 156, 0.1) 100%);
  color: #00ff9c;
  border: 1px solid rgba(0, 255, 156, 0.3);
  font-size: 14px;
  padding: 12px;
}

.btn-small {
  font-size: 20px;
  padding: 12px;
}

/* Goal Time Overlay */
#goalTimeOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.3s;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

#goalTimeBox {
  padding: 32px;
  border-radius: 24px;
  border: 3px solid #00ff9c;
  box-shadow: 
    0 0 40px rgba(0, 255, 156, 0.5),
    0 0 80px rgba(0, 255, 156, 0.3),
    inset 0 2px 16px rgba(0, 255, 156, 0.1);
  background: linear-gradient(135deg, #04120d 0%, #071a12 100%);
  text-align: center;
  animation: pulse 0.5s infinite alternate;
  max-width: 90%;
}

@keyframes pulse {
  from { 
    transform: scale(1);
    box-shadow: 
      0 0 40px rgba(0, 255, 156, 0.5),
      0 0 80px rgba(0, 255, 156, 0.3);
  }
  to { 
    transform: scale(1.02);
    box-shadow: 
      0 0 60px rgba(0, 255, 156, 0.7),
      0 0 100px rgba(0, 255, 156, 0.4);
  }
}

#gtTitle {
  font-size: 28px;
  font-weight: 900;
  color: #7cffcb;
  text-shadow: 0 0 20px rgba(0, 255, 156, 0.5);
  margin-bottom: 16px;
}

#goalTimeImage {
  width: 120px;
  height: 120px;
  margin: 16px auto;
  display: block;
  filter: drop-shadow(0 4px 16px rgba(0, 255, 156, 0.3));
  animation: rotate 0.6s linear infinite;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Win Box */
#winBox {
  position: fixed;
  inset: 0;
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: rgba(0, 0, 0, 0.9);
  backdrop-filter: blur(8px);
  z-index: 999;
  animation: fadeIn 0.3s;
}

#winWord {
  font-size: 36px;
  font-weight: 900;
  color: #7cffcb;
  text-shadow: 
    0 0 20px rgba(0, 255, 156, 0.8),
    0 0 40px rgba(0, 255, 156, 0.5);
  margin-bottom: 12px;
  animation: bounce 0.5s;
}

@keyframes bounce {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

#winValue {
  font-size: 32px;
  font-weight: 700;
  color: #00ff9c;
  text-shadow: 0 0 16px rgba(0, 255, 156, 0.6);
}

/* Roulette */
#rouletteOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  padding: 16px;
}

#rouletteBox {
  width: 100%;
  max-width: 360px;
  background: linear-gradient(135deg, #03110c 0%, #071a12 100%);
  border: 2px solid #00ff9c;
  border-radius: 24px;
  box-shadow: 
    0 8px 48px rgba(0, 0, 0, 0.5),
    0 0 40px rgba(0, 255, 156, 0.3);
  padding: 20px;
  text-align: center;
}

#rouletteTitle {
  color: #7cffcb;
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 16px;
  text-shadow: 0 0 12px rgba(0, 255, 156, 0.4);
}

#rouletteWheel {
  position: relative;
  height: 180px;
  overflow: hidden;
  border-radius: 16px;
  background: #000;
  margin-bottom: 16px;
  border: 2px solid rgba(0, 255, 156, 0.2);
  box-shadow: inset 0 4px 16px rgba(0, 0, 0, 0.5);
}

#rouletteList {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  transition: transform 3s cubic-bezier(.17,.67,.18,.97);
}

.rouletteItem {
  height: 45px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  border-bottom: 1px solid rgba(0, 255, 156, 0.1);
  font-size: 14px;
  font-weight: 600;
}

.rouletteItem img {
  width: 28px;
  height: 28px;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

#roulettePointer {
  position: absolute;
  left: 0;
  right: 0;
  top: 67px;
  height: 45px;
  border: 3px solid #00ff9c;
  box-shadow: 
    0 0 20px rgba(0, 255, 156, 0.6),
    inset 0 0 20px rgba(0, 255, 156, 0.2);
  pointer-events: none;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(0, 255, 156, 0.1) 50%, 
    transparent 100%);
}

#rouletteBox button {
  margin: 6px;
}

#cooldownText {
  margin-top: 12px;
  color: #ff6b6b;
  font-weight: 600;
  font-size: 14px;
}

/* Confetti */
.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  border-radius: 2px;
  animation: fall 2s linear forwards;
  z-index: 9999;
}

@keyframes fall {
  to {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

/* Responsive */
@media (max-width: 380px) {
  .header {
    padding: 16px;
  }
  
  .stat-value {
    font-size: 18px;
  }
  
  #grid {
    padding: 16px;
    gap: 6px;
  }
  
  button {
    padding: 14px;
    font-size: 14px;
  }
  
  #winWord {
    font-size: 28px;
  }
  
  #winValue {
    font-size: 24px;
  }
}

@media (min-width: 768px) {
  body {
    padding: 32px;
  }
}
</style>
</head>

<body>
<div id="app">
  <!-- Header com stats -->
  <div class="header">
    <div class="stats-grid">
      <div class="stat-box">
        <div class="stat-label">üí∞ Saldo</div>
        <div class="stat-value" id="saldo">100.00</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">üéÅ Giros Gr√°tis</div>
        <div class="stat-value" id="free">0</div>
      </div>
      <div class="stat-box bet-box">
        <div class="stat-label">üéØ Aposta Atual</div>
        <div class="stat-value" id="bet">1.60</div>
      </div>
    </div>
  </div>

  <!-- Grid de slots -->
  <div id="grid"></div>

  <!-- Controles -->
  <div class="controls">
    <button class="btn-spin" onclick="spin()">üé∞ GIRAR</button>
    <button class="btn-secondary" onclick="openRoulette()">üé° Roleta</button>
    <button class="btn-secondary" onclick="toggleMute()">üîä Som</button>
    <button class="btn-small btn-secondary" onclick="changeBet(-1)">‚ûñ</button>
    <button class="btn-small btn-secondary" onclick="changeBet(1)">‚ûï</button>
  </div>

  <button id="goalBtn" class="btn-secondary" onclick="startGoalTime()" style="display:none; width: 100%; margin-top: 8px;">
    ‚öΩ GOAL TIME
  </button>
</div>

<!-- Goal Time Overlay -->
<div id="goalTimeOverlay">
  <div id="goalTimeBox">
    <div id="gtTitle">‚öΩ GOAL TIME ‚öΩ</div>
    <img id="goalTimeImage" src="img/barcafort.png" alt="Goal Time">
  </div>
</div>

<!-- Win Box -->
<div id="winBox">
  <div id="winWord"></div>
  <div id="winValue"></div>
</div>

<!-- Roulette Overlay -->
<div id="rouletteOverlay">
  <div id="rouletteBox">
    <div id="rouletteTitle">üé° ROLETA DE PR√äMIOS</div>
    <div id="rouletteWheel">
      <div id="rouletteList"></div>
      <div id="roulettePointer"></div>
    </div>
    <button onclick="spinRoulette()">üé∞ Girar Roleta</button>
    <button class="btn-secondary" onclick="closeRoulette()">‚ùå Fechar</button>
    <div id="cooldownText"></div>
  </div>
</div>

<script>
let goalTimeRolling = false;
let freeSpinBet = null;
let goalTimeActive = false;
let goalTimeTimer = null;
let currentSound = null;
let goalTimeInterval = null;
let goalTimeSpeed = 200;

const apostas = [0.2,0.4,0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4,204.8,409.6,819.2,1638.4,3276.8,6553.6,13107.2];
let apostaIndex = 3;
let aposta = apostas[apostaIndex];

let saldo = 100;
let freeSpins = 0;
let muted = false;
let lastRoulette = 0;

const goalTimeImages = [
  "img/barcafort.png",
  "img/cbffort.png",
  "img/hilalfort.png",
  "img/psgfort.png",
  "img/santosfort.png"
];

const sounds = {
  giro: new Audio("sfx/giro.mp3"),
  gol: new Audio("sfx/gol.mp3"),
  roleta: new Audio("sfx/gol2.mp3")
};

const symbols = [
  {img:"img/alhilal.png", multi:1.3, name:"alhilal"},
  {img:"img/psg.png", multi:1.495, name:"psg"},
  {img:"img/barca.png", multi:1.85, name:"barca"},
  {img:"img/santos.png", multi:2.4, name:"santos"},
  {img:"img/cbf.png", multi:3, name:"cbf"}
];

const goalTimeMultipliers = {
  alhilal: 6.5,
  psg: 7.475,
  barca: 9.25,
  santos: 12,
  cbf: 15
};

const roulettePrizes = [
  {type:"free", text:"25 giros gr√°tis (1.6x)", free:25, bet:1.6, chance:63.9},
  {type:"free", text:"10 giros gr√°tis (3.2x)", free:10, bet:3.2, chance:15},
  {type:"free", text:"5 giros gr√°tis (12.8x)", free:5, bet:12.8, chance:10},
  {type:"saldo", text:"PS5", img:"img/ps5.png", value:3650, chance:5},
  {type:"saldo", text:"iPhone 17", img:"img/iphone.png", value:11500, chance:3},
  {type:"saldo", text:"Ninja 300", value:30990, chance:2},
  {type:"saldo", text:"New Beetle", img:"img/newbettle.png", value:40000, chance:1},
  {type:"saldo", text:"1kg Ouro", value:881000, chance:0.1}
];

// Criar grid
const gridEl = document.getElementById("grid");
for(let i=0; i<9; i++) {
  let d = document.createElement("div");
  d.className = "slot";
  let img = document.createElement("img");
  d.appendChild(img);
  gridEl.appendChild(d);
}

function randomSym() {
  return symbols[Math.floor(Math.random() * symbols.length)];
}

function randomGoalTimePrize() {
  return symbols[Math.floor(Math.random() * symbols.length)];
}

function playSound(name) {
  if(muted) return;
  if(currentSound) {
    currentSound.pause();
    currentSound.currentTime = 0;
  }
  currentSound = sounds[name];
  if(currentSound) {
    currentSound.play();
  }
}

function spin() {
  if(freeSpins > 0) {
    freeSpins--;
    aposta = freeSpinBet;
  } else {
    if(saldo < aposta) return;
    saldo -= aposta;
  }

  playSound("giro");

  if(!goalTimeActive && Math.random() < 0.01) {
    startGoalTime();
  }

  let slots = document.querySelectorAll(".slot img");
  let grid = [];
  
  slots.forEach(el => {
    let s = randomSym();
    el.src = s.img;
    grid.push(s);
  });

  checkWin(grid);
  
  if(freeSpins === 0) {
    freeSpinBet = null;
  }
  
  update();
}

function checkWin(g) {
  const wins = [[0,1,2],[3,4,5],[6,7,8],[0,4,8],[2,4,6]];
  wins.forEach(w => {
    if(g[w[0]].img === g[w[1]].img && g[w[1]].img === g[w[2]].img) {
      let multi = g[w[0]].multi;
      let ganho = aposta * multi;
      saldo += ganho;
      playSound("gol");
      confetti();
      showWin(ganho, multi);
    }
  });
  update();
}

function showWin(valor, multi) {
  const box = document.getElementById("winBox");
  const word = document.getElementById("winWord");
  const val = document.getElementById("winValue");
  
  let txt = "Gol!";
  if(multi > 2.25) txt = "Super Gol!";
  if(multi > 2.75) txt = "Mega Gol!";
  if(multi > 3.5) txt = "Ultra Gol!";
  if(multi > 5) txt = "GOLEADA!";
  
  let current = 0;
  let target = valor;
  
  word.innerText = "VOC√ä GANHOU! " + txt;
  box.style.display = "flex";
  
  let anim = setInterval(() => {
    current += target / 30;
    if(current >= target) {
      current = target;
      clearInterval(anim);
    }
    val.innerText = "‚öΩ " + current.toFixed(2);
  }, 30);
  
  setTimeout(() => box.style.display = "none", 2200);
}

function confetti() {
  for(let i=0; i<40; i++) {
    let c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random() * 100 + "vw";
    c.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 2000);
  }
}

function startGoalTime() {
  if(goalTimeRolling) return;

  goalTimeRolling = true;
  goalTimeActive = true;

  const overlay = document.getElementById("goalTimeOverlay");
  const imgEl = document.getElementById("goalTimeImage");

  overlay.style.display = "flex";
  playSound("gol");

  let imgIndex = 0;

  goalTimeInterval = setInterval(() => {
    imgEl.src = goalTimeImages[imgIndex];
    imgIndex = (imgIndex + 1) % goalTimeImages.length;
  }, goalTimeSpeed);

  rollGoalTime();
}

function rollGoalTime() {
  setTimeout(() => {
    let prize = randomGoalTimePrize();
    if(!prize) {
      rollGoalTime();
    } else {
      finishGoalTime(prize);
    }
  }, 900);
}

function finishGoalTime(prize) {
  clearInterval(goalTimeInterval);
  goalTimeInterval = null;

  const slots = document.querySelectorAll(".slot img");
  let grid = [];

  slots.forEach(img => {
    img.src = prize.img;
    grid.push({
      img: prize.img,
      multi: goalTimeMultipliers[prize.name],
      name: prize.name
    });
  });

  checkWin(grid);
  confetti();

  setTimeout(() => {
    document.getElementById("goalTimeOverlay").style.display = "none";
    goalTimeActive = false;
    goalTimeRolling = false;
    update();
  }, 1200);
}

// Roulette
const rouletteList = document.getElementById("rouletteList");
roulettePrizes.forEach(p => {
  let d = document.createElement("div");
  d.className = "rouletteItem";
  d.innerHTML = (p.img ? `<img src="${p.img}">` : "") + `<span>${p.text}</span>`;
  rouletteList.appendChild(d);
});

for(let k=0; k<6; k++) {
  roulettePrizes.forEach(p => {
    let d = document.createElement("div");
    d.className = "rouletteItem";
    d.innerHTML = (p.img ? `<img src="${p.img}">` : "") + `<span>${p.text}</span>`;
    rouletteList.appendChild(d);
  });
}

function openRoulette() {
  const now = Date.now();
  const diff = now - lastRoulette;
  
  if(diff < 300000) {
    let sec = Math.ceil((300000 - diff) / 1000);
    document.getElementById("cooldownText").innerText = "Aguarde " + sec + "s";
    document.getElementById("rouletteOverlay").style.display = "flex";
    return;
  }
  
  document.getElementById("cooldownText").innerText = "";
  document.getElementById("rouletteOverlay").style.display = "flex";
}

function closeRoulette() {
  document.getElementById("rouletteOverlay").style.display = "none";
}

let rouletteOffset = 0;

function spinRoulette() {
  const now = Date.now();
  if(now - lastRoulette < 300000) return;

  lastRoulette = now;
  playSound("roleta");

  const list = document.getElementById("rouletteList");

  let total = roulettePrizes.reduce((s, p) => s + p.chance, 0);
  let r = Math.random() * total;
  let acc = 0;
  let prize = null;
  
  for(let p of roulettePrizes) {
    acc += p.chance;
    if(r <= acc) {
      prize = p;
      break;
    }
  }

  const prizeIndex = roulettePrizes.indexOf(prize);
  const itemHeight = 45;
  const totalItems = roulettePrizes.length * 6;
  const centerBase = Math.floor(totalItems / 2);

  rouletteOffset = (centerBase + prizeIndex) * itemHeight;

  list.style.transition = "none";
  list.style.transform = `translateY(-${rouletteOffset}px)`;
  list.offsetHeight;

  const extraLoops = 3 * roulettePrizes.length * itemHeight;
  list.style.transition = "transform 3s cubic-bezier(.17,.67,.18,.97)";
  list.style.transform = `translateY(-${rouletteOffset + extraLoops}px)`;

  setTimeout(() => {
    if(prize.type === "free") {
      freeSpins += prize.free;
      freeSpinBet = prize.bet;
      aposta = prize.bet;
    } else {
      saldo += prize.value;
    }

    document.getElementById("rouletteOverlay").style.display = "none";
    update();
  }, 3000);
}

function update() {
  document.getElementById("saldo").innerText = saldo.toFixed(2);
  document.getElementById("free").innerText = freeSpins;
  document.getElementById("bet").innerText = aposta.toFixed(2);
}

function changeBet(dir) {
  if(freeSpins > 0) return;
  
  apostaIndex += dir;
  if(apostaIndex < 0) apostaIndex = 0;
  if(apostaIndex >= apostas.length) apostaIndex = apostas.length - 1;
  
  aposta = apostas[apostaIndex];
  update();
}

function toggleMute() {
  muted = !muted;
  document.querySelector('.controls button:nth-child(2)').innerText = muted ? "üîá Som" : "üîä Som";
}

document.addEventListener("keydown", e => {
  if(e.key.toLowerCase() === "p") {
    startGoalTime();
  }
});

function isMobile() {
  return /Android|iPhone|iPad|iPod|Windows Phone/i.test(navigator.userAgent);
}

if(isMobile()) {
  document.getElementById("goalBtn").style.display = "block";
}

update();
</script>
</body>
</html>
